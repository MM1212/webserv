servers:
  - listen: 8080
    server_names: [localhost, 127.0.0.1]
    default: true
    settings:
      max_body_size: 1024
    routes:
      - uri: /cgi
        settings:
          methods: [GET, POST]
          max_body_size: 100
        modules:
          - type: cgi
            settings:
              methods: [POST]
              root: 'config/bin/cgi/'
              interpreters:
                # - name: python
                #   path: /usr/bin/python3
                #   extensions: [.py]
                #   args: [$file]
                - name: node.js
                  path: /usr/bin/node
                  extensions: [js]
                  args: [$file]
            no_match: next
          - type: static
            settings:
              root: 'config/bin/cgi'
              index: add.html
              directory_listing: true
            no_match: next
          - type: redirect
            settings:
              uri: https://youtube.com
              type: permanent
              partial: false
